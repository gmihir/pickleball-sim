(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{442:(e,s,a)=>{Promise.resolve().then(a.bind(a,9380))},9380:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eb});var t=a(5155),r=a(2115),l=a(2596),i=a(9688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.QP)((0,l.$)(s))}let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});d.displayName="Card";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:n("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:n("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:n("text-sm text-muted-foreground",a),...r})});m.displayName="CardDescription";let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:n("p-6 pt-0",a),...r})});u.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:n("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var x=a(704);let f=x.bL,h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(x.B8,{ref:s,className:n("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});h.displayName=x.B8.displayName;let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(x.l9,{ref:s,className:n("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});p.displayName=x.l9.displayName;let g=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(x.UC,{ref:s,className:n("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});g.displayName=x.UC.displayName;var b=a(9708),j=a(2085);let N=(0,j.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=r.forwardRef((e,s)=>{let{className:a,variant:r,size:l,asChild:i=!1,...d}=e,o=i?b.DX:"button";return(0,t.jsx)(o,{className:n(N({variant:r,size:l,className:a})),ref:s,...d})});v.displayName="Button";let y=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:n("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});y.displayName="Input";var w=a(968);let S=(0,j.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(w.b,{ref:s,className:n(S(),a),...r})});C.displayName=w.b.displayName;var R=a(4059),k=a(9428);let P=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(R.bL,{className:n("grid gap-2",a),...r,ref:s})});P.displayName=R.bL.displayName;let F=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(R.q7,{ref:s,className:n("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,t.jsx)(R.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(k.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});F.displayName=R.q7.displayName;var L=a(4678),O=a(6474),z=a(7863),A=a(5196);let M=L.bL;L.YJ;let V=L.WT,W=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(L.l9,{ref:s,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,t.jsx)(L.In,{asChild:!0,children:(0,t.jsx)(O.A,{className:"h-4 w-4 opacity-50"})})]})});W.displayName=L.l9.displayName;let _=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(L.PP,{ref:s,className:n("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(z.A,{className:"h-4 w-4"})})});_.displayName=L.PP.displayName;let U=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(L.wn,{ref:s,className:n("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(O.A,{className:"h-4 w-4"})})});U.displayName=L.wn.displayName;let q=r.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,t.jsx)(L.ZL,{children:(0,t.jsxs)(L.UC,{ref:s,className:n("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,t.jsx)(_,{}),(0,t.jsx)(L.LM,{className:n("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(U,{})]})})});q.displayName=L.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(L.JU,{ref:s,className:n("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=L.JU.displayName;let B=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(L.q7,{ref:s,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(L.VF,{children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})}),(0,t.jsx)(L.p4,{children:r})]})});B.displayName=L.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(L.wv,{ref:s,className:n("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=L.wv.displayName;var D=a(4073);let G=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsxs)(D.bL,{ref:s,className:n("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,t.jsx)(D.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(D.Q6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(D.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});G.displayName=D.bL.displayName;var E=a(4884);let T=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(E.bL,{className:n("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(E.zi,{className:n("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});T.displayName=E.bL.displayName;var I=a(1007),J=a(7580);function K(e){let{onSimulate:s}=e,[a,l]=(0,r.useState)("doubles"),[i,n]=(0,r.useState)("11"),[o,c]=(0,r.useState)("bestOf3"),[m,u]=(0,r.useState)([0]),[x,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(1e5),[g,b]=(0,r.useState)("4.5"),[j,N]=(0,r.useState)("4.5"),[w,S]=(0,r.useState)("4.0"),[R,k]=(0,r.useState)("4.5"),[L,O]=(0,r.useState)("4.0");return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s({simulationCount:h,gameFormat:a,pointsPerGame:Number.parseInt(i),matchFormat:o,sideAdvantage:m[0],firstPointRule:x,players:"singles"===a?[Number.parseFloat(g)]:[Number.parseFloat(j),Number.parseFloat(w),Number.parseFloat(R),Number.parseFloat(L)]})},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(C,{className:"text-base font-medium",children:"Game Format"}),(0,t.jsxs)(P,{defaultValue:"doubles",value:a,onValueChange:e=>l(e),className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex cursor-pointer items-center space-x-3 rounded-lg border p-3 hover:bg-accent",children:[(0,t.jsx)(F,{value:"singles",id:"singles"}),(0,t.jsxs)(C,{htmlFor:"singles",className:"flex cursor-pointer items-center gap-2",children:[(0,t.jsx)(I.A,{className:"h-4 w-4"}),"Singles"]})]}),(0,t.jsxs)("div",{className:"flex cursor-pointer items-center space-x-3 rounded-lg border p-3 hover:bg-accent",children:[(0,t.jsx)(F,{value:"doubles",id:"doubles"}),(0,t.jsxs)(C,{htmlFor:"doubles",className:"flex cursor-pointer items-center gap-2",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),"Doubles"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"pointsPerGame",className:"text-sm font-medium",children:"Points Per Game"}),(0,t.jsxs)(M,{value:i,onValueChange:n,children:[(0,t.jsx)(W,{id:"pointsPerGame",className:"h-12",children:(0,t.jsx)(V,{placeholder:"Select points"})}),(0,t.jsxs)(q,{children:[(0,t.jsx)(B,{value:"11",children:"11 Points"}),(0,t.jsx)(B,{value:"15",children:"15 Points"}),(0,t.jsx)(B,{value:"21",children:"21 Points"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(C,{className:"text-sm font-medium",children:"Match Format"}),(0,t.jsxs)(P,{defaultValue:"bestOf3",value:o,onValueChange:e=>c(e),className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 rounded-lg border p-3",children:[(0,t.jsx)(F,{value:"bestOf1",id:"bestOf1"}),(0,t.jsx)(C,{htmlFor:"bestOf1",className:"cursor-pointer text-sm",children:"Best of 1"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 rounded-lg border p-3",children:[(0,t.jsx)(F,{value:"bestOf3",id:"bestOf3"}),(0,t.jsx)(C,{htmlFor:"bestOf3",className:"cursor-pointer text-sm",children:"Best of 3"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"simulationCount",className:"text-sm font-medium",children:"Number of Simulations"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(G,{id:"simulationCount",min:1,max:1e6,step:1e3,value:[h],onValueChange:e=>p(e[0]),className:"flex-1"}),(0,t.jsx)(y,{type:"number",min:1,max:1e6,value:h,onChange:e=>p(Number(e.target.value)),className:"h-12 w-24 text-lg"})]})]})]}),(0,t.jsxs)(d,{className:"bg-muted/50 p-4",children:[(0,t.jsx)("div",{className:"mb-4 flex items-center gap-2",children:(0,t.jsx)("h3",{className:"text-base font-medium",children:"Player Ratings (DUPR)"})}),"singles"===a?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"singleRating",className:"text-sm",children:"Player Rating"}),(0,t.jsx)(y,{id:"singleRating",type:"number",step:"0.1",min:"2.0",max:"8.0",value:g,onChange:e=>b(e.target.value),className:"h-12 text-lg",placeholder:"4.5"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"mb-3 text-sm font-medium",children:"Team 1"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"team1Player1",className:"text-xs",children:"Player 1"}),(0,t.jsx)(y,{id:"team1Player1",type:"number",step:"0.1",min:"2.0",max:"8.0",value:j,onChange:e=>N(e.target.value),className:"h-10",placeholder:"4.5"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"team1Player2",className:"text-xs",children:"Player 2"}),(0,t.jsx)(y,{id:"team1Player2",type:"number",step:"0.1",min:"2.0",max:"8.0",value:w,onChange:e=>S(e.target.value),className:"h-10",placeholder:"4.0"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"mb-3 text-sm font-medium",children:"Team 2"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"team2Player1",className:"text-xs",children:"Player 1"}),(0,t.jsx)(y,{id:"team2Player1",type:"number",step:"0.1",min:"2.0",max:"8.0",value:R,onChange:e=>k(e.target.value),className:"h-10",placeholder:"4.5"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"team2Player2",className:"text-xs",children:"Player 2"}),(0,t.jsx)(y,{id:"team2Player2",type:"number",step:"0.1",min:"2.0",max:"8.0",value:L,onChange:e=>O(e.target.value),className:"h-10",placeholder:"4.0"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(C,{htmlFor:"sideAdvantage",className:"text-sm font-medium",children:"Side Advantage"}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:m[0]<0?"Left side: ".concat(Math.abs(m[0])):m[0]>0?"Right side: ".concat(m[0]):"No advantage"})]}),(0,t.jsx)("div",{className:"px-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"min-w-0 text-xs text-muted-foreground",children:"Left (-5)"}),(0,t.jsx)(G,{id:"sideAdvantage",min:-5,max:5,step:1,value:m,onValueChange:u,className:"flex-1"}),(0,t.jsx)("span",{className:"min-w-0 text-xs text-muted-foreground",children:"Right (+5)"})]})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Each discrete value represents a 1% advantage"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(C,{htmlFor:"firstPointRule",className:"cursor-pointer text-sm font-medium",children:"Serving team loses first point"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"On special request :))"})]}),(0,t.jsx)(T,{id:"firstPointRule",checked:x,onCheckedChange:f})]}),(0,t.jsx)(v,{type:"submit",className:"h-12 w-full text-base font-medium",children:"Run Simulation"})]})}var Q=a(7550),H=a(5899),X=a(3913),Y=a(4754),Z=a(4811),$=a(3540),ee=a(6025),es=a(2071),ea=a(9498);let et=H.y,er=X.E,el=Y.d,ei=Z.f,en=$.u,ed=ee.W,eo=es.h,ec=ea.m;function em(e){let{serveFirstWinRate:s,chooseSideWinRate:a}=e,r=[{name:"Serve First",value:100*s},{name:"Choose Side",value:100*a}],l=s>a;return(0,t.jsx)(en,{width:"100%",height:"100%",children:(0,t.jsxs)(er,{data:r,margin:{top:20,right:20,left:20,bottom:20},children:[(0,t.jsx)(el,{strokeDasharray:"3 3"}),(0,t.jsx)(ed,{dataKey:"name",tick:{fontSize:12},interval:0}),(0,t.jsx)(eo,{domain:[Math.min(Math.floor(100*s-5),Math.floor(100*a-5)),Math.max(Math.ceil(100*s+5),Math.ceil(100*a+5))],label:{value:"Win Probability (%)",angle:-90,position:"insideLeft"},tick:{fontSize:12}}),(0,t.jsx)(ec,{formatter:e=>["".concat(e.toFixed(2),"%"),"Win Probability"],labelFormatter:e=>"Strategy: ".concat(e),contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"14px"}}),(0,t.jsx)(et,{dataKey:"value",radius:[4,4,0,0],children:r.map((e,s)=>(0,t.jsx)(ei,{fill:0===s&&l?"#22c55e":1!==s||l?"#94a3b8":"#3b82f6"},"cell-".concat(s)))})]})})}function eu(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:n("animate-pulse rounded-md bg-muted",s),...a})}let ex=(0,j.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ef(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:n(ex({variant:a}),s),...r})}function eh(e){let{results:s,isLoading:a,onReset:r,simulationCount:l}=e;if(a)return(0,t.jsx)(ep,{simulationCount:l});if(!s)return null;let{recommendation:i,serveFirstWinRate:n,chooseSideWinRate:m,optimalServer:x}=s,f="Serve First"===i;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{className:"flex flex-col justify-between gap-3 sm:flex-row sm:items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Recommendation"}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,t.jsx)(ef,{className:"".concat(f?"bg-green-600":"bg-blue-600"," px-3 py-1 text-white"),variant:"secondary",children:i}),x&&(0,t.jsxs)(ef,{variant:"outline",className:"px-3 py-1",children:["Optimal server: Player ",x]})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(v,{variant:"outline",size:"sm",onClick:r,className:"flex-1 bg-transparent sm:flex-none",children:[(0,t.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),"New Simulation"]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,t.jsx)(d,{className:"border-green-200 bg-gradient-to-br from-green-50 to-green-100",children:(0,t.jsx)(u,{className:"pb-4 pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-green-700 sm:text-2xl",children:[(100*n).toFixed(2),"%"]}),(0,t.jsx)("p",{className:"text-xs font-medium text-green-600 sm:text-sm",children:"Serve First Win Rate"})]})})}),(0,t.jsx)(d,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100",children:(0,t.jsx)(u,{className:"pb-4 pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-blue-700 sm:text-2xl",children:[(100*m).toFixed(2),"%"]}),(0,t.jsx)("p",{className:"text-xs font-medium text-blue-600 sm:text-sm",children:"Choose Side Win Rate"})]})})})]}),(0,t.jsxs)(d,{children:[(0,t.jsx)(o,{className:"pb-3",children:(0,t.jsx)(c,{className:"text-base",children:"Win Probability Comparison"})}),(0,t.jsx)(u,{children:(0,t.jsx)("div",{className:"h-64 sm:h-80",children:(0,t.jsx)(em,{serveFirstWinRate:n,chooseSideWinRate:m})})})]})]})}function ep(e){let{simulationCount:s}=e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Running Simulation..."}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Analyzing ",s.toLocaleString()," matches..."]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[1,2,3].map(e=>(0,t.jsx)(d,{children:(0,t.jsx)(u,{className:"pb-4 pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(eu,{className:"mx-auto mb-2 h-6 w-16 sm:h-8 sm:w-24"}),(0,t.jsx)(eu,{className:"mx-auto h-3 w-20 sm:h-4 sm:w-32"})]})})},e))}),(0,t.jsx)(d,{children:(0,t.jsx)(u,{className:"pt-6",children:(0,t.jsx)("div",{className:"flex h-64 items-center justify-center sm:h-80",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(eu,{className:"mb-4 h-32 w-full sm:h-40"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Processing ",s.toLocaleString()," simulation data..."]})]})})})})]})}function eg(e,s,a,t,r,l,i){let n=0,d=0,o=0,c=0;for(;n<t&&d<t;){let t=function(e,s,a,t,r,l){let i=0,n=0,d=l;for(r&&(d?n++:i++,d=!d);!((i>=a||n>=a)&&Math.abs(i-n)>=2);)Math.random()<function(e,s,a,t){let r=1/(1+Math.pow(10,(s-e)/1));return a?r-=.5754-.5:r+=.5754-.5,Math.max(.05,Math.min(.95,r+=.01*t))}(e,s,d,t)?(i++,d||(d=!0)):(n++,d&&(d=!1));return{winner:i>n?1:2,team1Score:i,team2Score:n}}(e,s,a,r,l,i);1===t.winner?n++:d++,o+=t.team1Score,c+=t.team2Score,i=!i}return{winner:n>d?1:2,team1Score:o,team2Score:c}}function eb(){let[e,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)("config"),[x,b]=(0,r.useState)(0),j=async e=>{l(!0),n("results"),b(e.simulationCount),setTimeout(()=>{s(function(e){let s,a,t;let{simulationCount:r,gameFormat:l,pointsPerGame:i,matchFormat:n,sideAdvantage:d,firstPointRule:o,players:c}=e;"singles"===l?(s=c[0],a=c[0]):(s=(c[0]+c[1])/2,a=(c[2]+c[3])/2),"doubles"===l&&(t=c[0]>=c[1]?1:2);let m=0,u=0;for(let e=0;e<r;e++)1===eg(s,a,i,"bestOf3"===n?2:1,d,o,!0).winner&&m++,1===eg(s,a,i,"bestOf3"===n?2:1,d,o,!1).winner&&u++;let x=m/r,f=u/r,h=x>f?"Serve First":"Choose Side";return{simulationCount:r,recommendation:h,serveFirstWinRate:x,chooseSideWinRate:f,optimalServer:"Serve First"===h?t:void 0}}(e)),l(!1)},100)};return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-4",children:[(0,t.jsxs)("div",{className:"mb-6 text-center",children:[(0,t.jsx)("h1",{className:"mb-2 text-2xl font-bold md:text-3xl",children:"Pickleball Game Simulator"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Optimize match strategy! Or just mess around :)"})]}),(0,t.jsxs)(f,{value:i,onValueChange:n,className:"w-full",children:[(0,t.jsxs)(h,{className:"mb-4 grid w-full grid-cols-2",children:[(0,t.jsx)(p,{value:"config",className:"text-sm",children:"Configuration"}),(0,t.jsx)(p,{value:"results",disabled:!e&&!a,className:"text-sm",children:"Results"})]}),(0,t.jsx)(g,{value:"config",className:"mt-0",children:(0,t.jsxs)(d,{children:[(0,t.jsxs)(o,{className:"pb-4",children:[(0,t.jsx)(c,{className:"text-lg",children:"Simulation Configuration"}),(0,t.jsx)(m,{className:"text-sm",children:"Settings to fiddle around with"})]}),(0,t.jsx)(u,{children:(0,t.jsx)(K,{onSimulate:j})})]})}),(0,t.jsx)(g,{value:"results",className:"mt-0",children:(0,t.jsxs)(d,{children:[(0,t.jsxs)(o,{className:"pb-4",children:[(0,t.jsx)(c,{className:"text-lg",children:"Simulation Results"}),(0,t.jsxs)(m,{className:"text-sm",children:["Based on"," ",a?"".concat(x.toLocaleString()," matches..."):e?"".concat(e.simulationCount.toLocaleString()," matches"):"..."," "]})]}),(0,t.jsx)(u,{children:(0,t.jsx)(eh,{results:e,isLoading:a,onReset:()=>{s(null),n("config")},simulationCount:x})})]})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[426,441,684,358],()=>s(442)),_N_E=e.O()}]);